<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous"><title data-react-helmet="true">Exercise 5-3 | EN.601.220: Intermediate Programming</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Exercise 5-3 | EN.601.220: Intermediate Programming"><meta data-react-helmet="true" name="description" content="This is an in-class exercise. An exercise page like this one will contain a brief description but is intended to be supplemented by discussion during our meeting time. Complete the exercise to the best of your ability in the time given. Feel free to talk with other students as you work, and do not be afraid to ask questions if you get stuck. Aim to complete as much as possible during our meeting, but you need not hand it in. You are encouraged to work at home to complete what you do not get through today, and ask questions over Piazza or in office hours."><meta data-react-helmet="true" property="og:description" content="This is an in-class exercise. An exercise page like this one will contain a brief description but is intended to be supplemented by discussion during our meeting time. Complete the exercise to the best of your ability in the time given. Feel free to talk with other students as you work, and do not be afraid to ask questions if you get stuck. Aim to complete as much as possible during our meeting, but you need not hand it in. You are encouraged to work at home to complete what you do not get through today, and ask questions over Piazza or in office hours."><meta data-react-helmet="true" property="og:url" content="https://jhu-ip.github.io/cs220-sp21/docs/exercises/ex5-3"><link data-react-helmet="true" rel="shortcut icon" href="/cs220-sp21/img/logo_cpp.svg"><link data-react-helmet="true" rel="canonical" href="https://jhu-ip.github.io/cs220-sp21/docs/exercises/ex5-3"><link rel="stylesheet" href="/cs220-sp21/styles.941952b5.css">
<link rel="preload" href="/cs220-sp21/styles.c535536b.js" as="script">
<link rel="preload" href="/cs220-sp21/runtime~main.0674fa7b.js" as="script">
<link rel="preload" href="/cs220-sp21/main.743edeae.js" as="script">
<link rel="preload" href="/cs220-sp21/1.d4ab7233.js" as="script">
<link rel="preload" href="/cs220-sp21/2.d5cbc21b.js" as="script">
<link rel="preload" href="/cs220-sp21/70.15bd2f89.js" as="script">
<link rel="preload" href="/cs220-sp21/71.ec852dfc.js" as="script">
<link rel="preload" href="/cs220-sp21/935f2afb.ecda8bd2.js" as="script">
<link rel="preload" href="/cs220-sp21/17896441.dc85048a.js" as="script">
<link rel="preload" href="/cs220-sp21/75e49f9d.f21e6f70.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top navbarHideable_3046"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/cs220-sp21/"><img class="navbar__logo" src="/cs220-sp21/img/logo_cpp.svg" alt="CS220"><strong class="navbar__title">CS220</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cs220-sp21/docs">Syllabus</a><a class="navbar__item navbar__link" href="/cs220-sp21/staff/">Course Staff</a><a href="https://docs.google.com/spreadsheets/d/1OCSl2UKclPT7asoEoSwNgRdAoJnRbQPbonDbS89JV7Q/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">CA Office Hours</a><a class="navbar__item navbar__link" href="/cs220-sp21/materials/">Course Material</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a href="#" class="navbar__item navbar__link">Assignments</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cs220-sp21/docs/assignments/hw0">Homework 0</a></li><li><a class="dropdown__link" href="/cs220-sp21/docs/assignments/hw1">Homework 1</a></li><li><a href="https://www.gradescope.com/courses/230194/assignments/1006756" target="_blank" rel="noopener noreferrer" class="dropdown__link">Homework 2</a></li><li><a class="dropdown__link" href="/cs220-sp21/docs/assignments/hw3">Homework 3</a></li><li><a href="https://www.gradescope.com/courses/230194/assignments/1029598" target="_blank" rel="noopener noreferrer" class="dropdown__link">Homework 4</a></li><li><a class="dropdown__link" href="/cs220-sp21/docs/assignments/midterm">Midterm project</a></li><li><a class="dropdown__link" href="/cs220-sp21/docs/assignments/hw5">Homework 5</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a href="#" class="navbar__item navbar__link">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cs220-sp21/docs/resources/github-ssh">Github ssh authentication</a></li><li><a href="https://docs.google.com/document/d/19Wwak8BQWpML5ot-u3NRs38EtpuA-I5g5ACQbbDzg5U/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="dropdown__link">Midterm Review Questions</a></li><li><a href="https://docs.google.com/document/d/1f_Tp9_IKy-kdCfzrnTLuZPpsXpL0Z7YobYPnBz1T5A8/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="dropdown__link">Midterm Review Answers</a></li><li><a href="https://docs.google.com/presentation/d/1SBNONdfctV4xZtavyIF4luisiaiqV9MmhEYI-i4wAcc/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="dropdown__link">Midterm Review Slides</a></li><li><a href="https://jh.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=ddfbb1ab-f575-4eb2-b1f7-ace40161a42c" target="_blank" rel="noopener noreferrer" class="dropdown__link">Midterm Review Session</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/cs220-sp21/"><img class="navbar__logo" src="/cs220-sp21/img/logo_cpp.svg" alt="CS220"><strong class="navbar__title">CS220</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/cs220-sp21/docs">Syllabus</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-sp21/staff/">Course Staff</a></li><li class="menu__list-item"><a href="https://docs.google.com/spreadsheets/d/1OCSl2UKclPT7asoEoSwNgRdAoJnRbQPbonDbS89JV7Q/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="menu__link">CA Office Hours</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-sp21/materials/">Course Material</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist">Assignments</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/cs220-sp21/docs/assignments/hw0">Homework 0</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-sp21/docs/assignments/hw1">Homework 1</a></li><li class="menu__list-item"><a href="https://www.gradescope.com/courses/230194/assignments/1006756" target="_blank" rel="noopener noreferrer" class="menu__link">Homework 2</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-sp21/docs/assignments/hw3">Homework 3</a></li><li class="menu__list-item"><a href="https://www.gradescope.com/courses/230194/assignments/1029598" target="_blank" rel="noopener noreferrer" class="menu__link">Homework 4</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-sp21/docs/assignments/midterm">Midterm project</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-sp21/docs/assignments/hw5">Homework 5</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist">Resources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/cs220-sp21/docs/resources/github-ssh">Github ssh authentication</a></li><li class="menu__list-item"><a href="https://docs.google.com/document/d/19Wwak8BQWpML5ot-u3NRs38EtpuA-I5g5ACQbbDzg5U/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="menu__link">Midterm Review Questions</a></li><li class="menu__list-item"><a href="https://docs.google.com/document/d/1f_Tp9_IKy-kdCfzrnTLuZPpsXpL0Z7YobYPnBz1T5A8/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="menu__link">Midterm Review Answers</a></li><li class="menu__list-item"><a href="https://docs.google.com/presentation/d/1SBNONdfctV4xZtavyIF4luisiaiqV9MmhEYI-i4wAcc/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="menu__link">Midterm Review Slides</a></li><li class="menu__list-item"><a href="https://jh.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=ddfbb1ab-f575-4eb2-b1f7-ace40161a42c" target="_blank" rel="noopener noreferrer" class="menu__link">Midterm Review Session</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Exercise 5-3</h1></header><div class="markdown"><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>This is an in-class exercise. An exercise page like this one will contain a brief description but is intended to be supplemented by discussion during our meeting time. Complete the exercise to the best of your ability in the time given. Feel free to talk with other students as you work, and do not be afraid to ask questions if you get stuck. Aim to complete as much as possible during our meeting, but you need not hand it in. You are encouraged to work at home to complete what you do not get through today, and ask questions over Piazza or in office hours.</p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Learning Objectives</h5></div><div class="admonition-content"><p>Reinforces concepts learned in today meeting:</p><ul><li>pseudo-random integers</li><li>integer representation (twoâ€™s complement, endianness)</li></ul></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="part-1"></a>Part 1<a aria-hidden="true" tabindex="-1" class="hash-link" href="#part-1" title="Direct link to heading">#</a></h3><p>Pull the starter code for this exercise from the public repo by taking the following steps:</p><ol><li><p>Log into ugrad, then navigate into <code>cs220-sp21-public</code>, type <code>git status</code> and confirm you have not modified any files or accidentally committed to the public repo. Ask for help if you have added or committed files there and need to undo.</p></li><li><p>Type <code>git pull</code> to synchronize your local repo and working copy with the remote repo.</p></li><li><p>Confirm that you can see the template files for todayâ€™s exercise by typing <code>ls exercises/ex5-3</code> â€” you should see the files <code>random.c</code>, <code>intrep.c</code> and <code>endian.c</code>.</p></li><li><p>Copy all of the C source files (<code>*.c</code>) from the public class repository (in the <code>/exercises/ex5-3/</code> directory) to your personal repo in a new directory named <code>ex5-3</code> under <code>~/cs220/exercises/</code>. (In the subdirectory of your private repository where you will work on this exercise, run the command <code>cp ~/cs220-sp21-public/exercises/ex5-3/*.c .</code>).</p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="part-2"></a>Part 2<a aria-hidden="true" tabindex="-1" class="hash-link" href="#part-2" title="Direct link to heading">#</a></h3><p><strong>1.</strong> One important property of the <code>rand</code> function is that it generates
a <em>uniform</em> distribution of pseudo-random integer values.</p><p>In the source file <code>random.c</code>, add a definition for the
<code>uniform_rand</code> function as indicated by the <code>TODO (1)</code> comment.
The <code>uniform_rand</code> function should return pseudo-random integers in
the range 0 to <code>NUM_BUCKETS</code>-1, inclusive, uniformly distributed.</p><p>Next, as indicated by the <code>TODO (2)</code> comment in the <code>main</code> function,
add code to generate 500 uniformly-generated pseudo-random integers
and increment the elements of the <code>hist</code> array accordingly.  (Each
generated pseudo-random integer should be used to increment the <code>hist</code>
array element with the same index as the generated pseudo-random integer.)</p><p>Next, add a definition for the <code>print_hist</code> function, as indicated by
the <code>TODO (3)</code> comment.  It should print a bar graph of the contents
of its array parameter, as described by the comment.</p><p>Then, add a call to the <code>print_hist</code> function to print a bar graph
of the data in the <code>hist</code> array, as indicated by the <code>TODO (4)</code> comment.</p><p>Compile the program:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">gcc -g -o random -Wall -Wextra -pedantic -std</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">c99 random.c</span></div></div></div></div></div><p>Run the program using the command <code>./random</code>.  The output should look something
like the following:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uniform distribution:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 0: ****************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 1: ****************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 2: ******************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 3: *****************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 4: ************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 5: ***************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 6: *****************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 7: ************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 8: ***********************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 9: **********************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">10: ****************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">11: *************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">12: ******************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">13: *******************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">14: *****************************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15: *************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">16: ********************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">17: *****************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">18: ********************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">19: **************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">20: *******************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">21: **************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">22: ***************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">23: ***********</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">24: ***********</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">25: **************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">26: *****************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">27: ***************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">28: ***********</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">29: **************************</span></div></div></div></div></div><p>The output of <code>print_hist</code> should show that each element of the <code>hist</code> array
values that are similar to each other.  This is what we expect from a normal
distribution.</p><p><strong>2.</strong> A <em>normal</em> distribution of pseudo-random integers can be generated by
summing multiple uniformly-distributed pseudo-random integer values.</p><p>In <code>random.c</code> add a definition for the <code>normal_rand</code> function, as indicated
by the <code>TODO (5)</code> comment.  This function should return a normal distribution
of integers (refer to the comment for details).
The <code>normal_rand</code> function should return pseudo-random integers in
the range 0 to <code>NUM_BUCKETS</code>-1, inclusive, normally distributed.</p><p>Then, as indicated by the <code>TODO (6)</code> comment in the <code>main</code> function,
add code to generate 500 normally-generated pseudo-random integers and
increment the elements of the <code>hist</code> array accordingly.  (Each generated
pseudo-random integer should be used to increment the <code>hist</code> array
element with the same index as the generated pseudo-random integer.)</p><p>Next, add a call to the <code>print_hist</code> function to print a bar graph
of the data in the <code>hist</code> array as indicated by the <code>TODO (7)</code> comment.</p><p>Compile and run the program.  The output should look something like
the following:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Normal distribution:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 0: </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 1: *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 2: </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 3: *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 4: *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 5: </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 6: *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 7: *********</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 8: ********************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 9: **********************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">10: ********************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">11: ********************************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">12: *************************************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">13: *********************************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">14: *********************************************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">15: ***********************************************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">16: ***********************************************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">17: ************************************************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">18: ****************************************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">19: ******************************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">20: ***************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">21: ****************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">22: *************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">23: ***********</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">24: *****</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">25: *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">26: ***</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">27: **</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">28: </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">29: </span></div></div></div></div></div><p>Your program&#x27;s output doesn&#x27;t need to look exactly like the output shown above,
but it should show a &quot;bell curve&quot; centered at approximately the middle of the
array of counts.</p><p>You may need to experiment a bit to find a good way to generate a more-or-less
normal distribution.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="part-3"></a>Part 3<a aria-hidden="true" tabindex="-1" class="hash-link" href="#part-3" title="Direct link to heading">#</a></h2><p>In the source file <code>intrep.c</code>, implement the <code>int_magnitude</code> function.
It receives an <code>unsigned int</code> value as an argument, which it should interpret as being
a 32-bit two&#x27;s complement signed integer value.  It should return an
<code>unsigned int</code> value representing the <em>magnitude</em> of the argument value.
A trivial implementation of the <code>magnitude</code> function would look like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-c codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">unsigned</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">magnitude</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">unsigned</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> val</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> signed_val </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> val</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">signed_val </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    val </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">signed_val</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> val</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>Using your knowledge of two&#x27;s complement representation and bitwise operators,
implement the <code>magnitude</code> function without using any signed values.
In other words, don&#x27;t use any values belonging to the <code>int </code> data type,
or any other signed data type.</p><p>Here is a suggested approach:</p><ul><li>If the highest bit of <code>val</code> is not set to 1, then just return the value as-is</li><li>If the highest bit of <code>val</code> is set to 1, then it&#x27;s magnitude can be found by
subtracting the value of the bits other than the highest bit from the
<code>unsigned int</code> value numerically equal to <code>INT_MAX</code> plus 1</li></ul><p>Compile the program using the command</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">gcc -g -o intrep -Wall -Wextra -pedantic -std</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">c99 intrep.c</span></div></div></div></div></div><p>Run the program using the command  <code>./intrep</code>.
You will know if your implementation is correct if you can run the program,
and all of the <code>assert</code> statements in the <code>main</code> function succeed.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="part-4"></a>Part 4<a aria-hidden="true" tabindex="-1" class="hash-link" href="#part-4" title="Direct link to heading">#</a></h2><p>Compile and run the <code>endian.c</code> program using the following commands:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">gcc -g -o endian -Wall -Wextra -pedantic -std</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">c99 endian.c</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./endian</span></div></div></div></div></div><p>In its initial form, this program will print the size in bytes of several
integer data types.  You can interpret the size of each data type as being
the number of bytes required to store one value belonging to the data type.
For example, if <code>sizeof(int)</code> is 4, that means that 4 bytes are needed to
store one instace of the <code>int</code> data type.  This makes a lot of sense if
one byte stores 8 bits, and <code>int</code> is a 32-bit type.</p><p>Now that we know that instances of the various integer data types require
multiple bytes of memory to represent, an important question to ask is:
&quot;how are the bytes of an integer value stored in memory&quot;?  Two typical
approaches are called <em>little endian</em> and <em>big endian</em>.  On a <em>big endian</em>
computer, the most significant byte of a multi-byte data value is stored
in memory before the less-significant bytes.  In contrast, on a <em>little endian</em>
computer, the least significant byte of a multi-byte data value is stored
in memory before the more-significant bytes.</p><p>Uncomment the code labeled as &quot;uncomment this part&quot;.  The variable called
<code>val</code> contains the value 950238851, which in hexadecimal is <code>38A37E83</code>.
That means that the bytes making up this value, from most significant to
least signnificant, are</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">38 A3 7E 83 </span></div></div></div></div></div><p>Recompile the program, then run it in <code>gdb</code> using the command</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">gdb endian</span></div></div></div></div></div><p>Set a breakpoint at the beginning of the <code>main</code> function using the command
<code>break main</code>.  Run the program in <code>gdb</code> using the <code>run</code> command.  Use the <code>next</code>
command until <code>gdb</code> is at the final <code>printf</code> command of the program.  The pointer
<code>p</code> points to the memory location which stores the value of the <code>val</code> variable.
Run the following commands in <code>gdb</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">print/x ((unsigned char *)p)[0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">print/x ((unsigned char *)p)[1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">print/x ((unsigned char *)p)[2]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">print/x ((unsigned char *)p)[3]</span></div></div></div></div></div><p>These <code>gdb</code> commands</p><ul><li>type cast the pointer to <code>p</code> to the type &quot;pointer to <code>unsigned char</code>&quot;</li><li>access the 4 byte values in memory starting at the address that <code>p</code> points to</li><li>prints each byte value in hexadecimal (&quot;<code>print/x</code>&quot; means &quot;print in hexadecimal&quot;)</li></ul><p>These <code>gdb</code> commands are a good illustration of how <code>gdb</code> can inspect arbitrary
memory locations as your program runs, and let you know exactly what is stored
at those locations.  <code>gdb</code> is extremely cool!</p><p>Based on your investigation, is the computer you are running the <code>endian</code> program
on big endian or little endian?</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#part-1" class="table-of-contents__link">Part 1</a></li><li><a href="#part-2" class="table-of-contents__link">Part 2</a></li><li><a href="#part-3" class="table-of-contents__link">Part 3</a></li><li><a href="#part-4" class="table-of-contents__link">Part 4</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright Â© 2021 CS220, Johns Hopkins University, Built with Docusaurus.</div></div></div></footer></div>
<script src="/cs220-sp21/styles.c535536b.js"></script>
<script src="/cs220-sp21/runtime~main.0674fa7b.js"></script>
<script src="/cs220-sp21/main.743edeae.js"></script>
<script src="/cs220-sp21/1.d4ab7233.js"></script>
<script src="/cs220-sp21/2.d5cbc21b.js"></script>
<script src="/cs220-sp21/70.15bd2f89.js"></script>
<script src="/cs220-sp21/71.ec852dfc.js"></script>
<script src="/cs220-sp21/935f2afb.ecda8bd2.js"></script>
<script src="/cs220-sp21/17896441.dc85048a.js"></script>
<script src="/cs220-sp21/75e49f9d.f21e6f70.js"></script>
</body>
</html>