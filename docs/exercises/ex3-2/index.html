<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous"><title data-react-helmet="true">Exercise 3-2 | EN.601.220: Intermediate Programming</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Exercise 3-2 | EN.601.220: Intermediate Programming"><meta data-react-helmet="true" name="description" content="This is an in-class exercise. An exercise page like this one will contain a brief description but is intended to be supplemented by discussion during our meeting time. Complete the exercise to the best of your ability in the time given. Feel free to talk with other students as you work, and do not be afraid to ask questions if you get stuck. Aim to complete as much as possible during our meeting, but you need not hand it in. You are encouraged to work at home to complete what you do not get through today."><meta data-react-helmet="true" property="og:description" content="This is an in-class exercise. An exercise page like this one will contain a brief description but is intended to be supplemented by discussion during our meeting time. Complete the exercise to the best of your ability in the time given. Feel free to talk with other students as you work, and do not be afraid to ask questions if you get stuck. Aim to complete as much as possible during our meeting, but you need not hand it in. You are encouraged to work at home to complete what you do not get through today."><meta data-react-helmet="true" property="og:url" content="https://jhu-ip.github.io/cs220-sp21/docs/exercises/ex3-2"><link data-react-helmet="true" rel="shortcut icon" href="/cs220-sp21/img/logo_cpp.svg"><link data-react-helmet="true" rel="canonical" href="https://jhu-ip.github.io/cs220-sp21/docs/exercises/ex3-2"><link rel="stylesheet" href="/cs220-sp21/styles.c480a4bb.css">
<link rel="preload" href="/cs220-sp21/styles.6b71565d.js" as="script">
<link rel="preload" href="/cs220-sp21/runtime~main.59831a9a.js" as="script">
<link rel="preload" href="/cs220-sp21/main.09b3fccb.js" as="script">
<link rel="preload" href="/cs220-sp21/1.27d8e547.js" as="script">
<link rel="preload" href="/cs220-sp21/2.ff7379a2.js" as="script">
<link rel="preload" href="/cs220-sp21/37.4e654797.js" as="script">
<link rel="preload" href="/cs220-sp21/38.d3f59e96.js" as="script">
<link rel="preload" href="/cs220-sp21/f976f453.e5588a44.js" as="script">
<link rel="preload" href="/cs220-sp21/17896441.e028893f.js" as="script">
<link rel="preload" href="/cs220-sp21/2dfccacb.c49777b3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top navbarHideable_3046"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/cs220-sp21/"><img class="navbar__logo" src="/cs220-sp21/img/logo_cpp.svg" alt="CS220"><strong class="navbar__title">CS220</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cs220-sp21/docs">Syllabus</a><a class="navbar__item navbar__link" href="/cs220-sp21/staff/">Course Staff</a><a href="https://docs.google.com/spreadsheets/d/1OCSl2UKclPT7asoEoSwNgRdAoJnRbQPbonDbS89JV7Q/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">CA Office Hours</a><a class="navbar__item navbar__link" href="/cs220-sp21/materials/">Course Material</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a href="#" class="navbar__item navbar__link">Assignments</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cs220-sp21/docs/assignments/hw0">Homework 0</a></li><li><a class="dropdown__link" href="/cs220-sp21/docs/assignments/hw1">Homework 1</a></li><li><a href="https://www.gradescope.com/courses/230194/assignments/1006756" target="_blank" rel="noopener noreferrer" class="dropdown__link">Homework 2</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a href="#" class="navbar__item navbar__link">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cs220-sp21/docs/resources/github-ssh">Github ssh authentication</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/cs220-sp21/"><img class="navbar__logo" src="/cs220-sp21/img/logo_cpp.svg" alt="CS220"><strong class="navbar__title">CS220</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/cs220-sp21/docs">Syllabus</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-sp21/staff/">Course Staff</a></li><li class="menu__list-item"><a href="https://docs.google.com/spreadsheets/d/1OCSl2UKclPT7asoEoSwNgRdAoJnRbQPbonDbS89JV7Q/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="menu__link">CA Office Hours</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-sp21/materials/">Course Material</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist">Assignments</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/cs220-sp21/docs/assignments/hw0">Homework 0</a></li><li class="menu__list-item"><a class="menu__link" href="/cs220-sp21/docs/assignments/hw1">Homework 1</a></li><li class="menu__list-item"><a href="https://www.gradescope.com/courses/230194/assignments/1006756" target="_blank" rel="noopener noreferrer" class="menu__link">Homework 2</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist">Resources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/cs220-sp21/docs/resources/github-ssh">Github ssh authentication</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Exercise 3-2</h1></header><div class="markdown"><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>This is an in-class exercise. An exercise page like this one will contain a brief description but is intended to be supplemented by discussion during our meeting time. Complete the exercise to the best of your ability in the time given. Feel free to talk with other students as you work, and do not be afraid to ask questions if you get stuck. Aim to complete as much as possible during our meeting, but you need not hand it in. You are encouraged to work at home to complete what you do not get through today.</p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Learning Objectives</h5></div><div class="admonition-content"><p>Reinforces concepts learned in today&#x27;s meeting:</p><ul><li>Modularizing your code by writing separate functions</li><li>Organizing functions into separate files (function declarations in header files)</li><li>Using header guards</li><li>Using separate commands for compilation (translation to object code) and linking</li><li>Creating a Makefile and using make to build your program</li><li>Working with C-strings (from week2)</li></ul></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="part-1"></a>Part 1<a aria-hidden="true" tabindex="-1" class="hash-link" href="#part-1" title="Direct link to heading">#</a></h3><ol><li><p>Log into an undergraduate cluster computer.</p></li><li><p>Confirm that your personal working git repository and the public course git repository are both cloned.  If this is not the case, ask for assistance.  You may need to redo steps from week 1 exercises. </p></li><li><p>Navigate into <code>cs220-sp21-public</code>, type <code>git status</code> and confirm you have not modified any files or accidentally committed to the public repo. Ask for help if you have added or committed files there and need to undo.</p></li><li><p>Type <code>git pull</code> to synchronize your local repo and working copy with the remote repo.</p></li><li><p>Confirm that you can see the template files for today‚Äôs exercise by typing <code>ls exercises/ex3-2</code> -- you should see files named <strong>all_in_one.c</strong> and <strong>Makefile</strong> inside.</p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="part-2"></a>Part 2<a aria-hidden="true" tabindex="-1" class="hash-link" href="#part-2" title="Direct link to heading">#</a></h3><ol><li><p>Use <code>cd ~/cs220</code> to move to your working copy of your personal repo.</p></li><li><p>Use <code>cd exercises</code> to change to your personal exercises directory.</p></li><li><p>Make a new directory for today‚Äôs exercise by typing <code>mkdir ex3-2</code>.</p></li><li><p>Change to the new directory with <code>cd ex3-2</code>.</p></li><li><p>Copy the source file to the current directory using: <code>cp ~/cs220-sp21-public/exercises/ex3-2/* .</code>. You will not need <strong>Makefile</strong> until you get to Part 5; </p></li></ol><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Do not try to run make during this exercise until you are instructed to.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="part-3"></a>Part 3<a aria-hidden="true" tabindex="-1" class="hash-link" href="#part-3" title="Direct link to heading">#</a></h3><ol><li><p>Compile your newly-copied <strong>all_in_one.c</strong> file by typing our usual compile command: <code>gcc -std=c99 -Wall -Wextra -pedantic all_in_one.c</code>  (or use <code>gccc all_in_one.c</code> if you like.) You will notice that the function calls do not return anything sensible at the moment, so let&#x27;s fix that.</p></li><li><p>Edit <strong>all_in_one.c</strong> so that the function named <strong>concat</strong> performs string concatenation of its first two arguments, ‚Äúreturning‚Äù the concatenated string via its third argument and sending <code>0</code> back as the function&#x27;s return value. However, note that the function&#x27;s third argument has limited capacity, the value of which is indicated in the fourth argument. If concatenating the first two arguments would cause an overflow of the third argument, do not modify the third argument, and return the value <code>1</code> to indicate an error situation.</p><p>For example, if the first two arguments are &quot;alpha&quot; and &quot;beta&quot;, and the result string has capacity 10, then the value returned by the function will be <code>0</code> and, after the function call, the value inside the third argument should be &quot;alphabeta&quot;. However, if the first two arguments are &quot;alpha&quot; and &quot;gamma&quot;, with a fourth argument of 10, the value returned by the function will be <code>1</code>, and the value inside the third argument will not be changed.</p></li></ol><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><ul><li>You may NOT use the <code>strcat</code> or <code>strcpy</code> library functions (from <code>string.h</code>) in your solution.  But you MAY use <code>strlen</code>.</li><li>You should NOT modify any code in the main function. Edit only the <code>concat</code> function, and get it to work with the existing function calls in main. At that point, if you would like to test your function further, you may add additional calls in main to do so.</li></ul></div></div><ol start="3"><li><p>Once you have made your changes, re-compile the file by re-typing our usual compile command: <code>gcc -std=c99 -Wall -Wextra -pedantic all_in_one.c</code>  (or use <code>gccc all_in_one.c</code>.)</p></li><li><p>Test your program by executing <code>./a.out</code> and reviewing the output. It is okay to add new calls in main if you wish.</p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="part-4"></a>Part 4<a aria-hidden="true" tabindex="-1" class="hash-link" href="#part-4" title="Direct link to heading">#</a></h3><p>Next, we are going to split your working source code into multiple files as follows. Without changing <strong>all_in_one.c</strong>, copy the contents of your <strong>all_in_one.c</strong> program into the following files:</p><ol><li><p><strong>run_concat.c</strong> - should contain the <code>main()</code> function, but no other functions.</p></li><li><p><strong>string_functions.c</strong> - should contain the definition for the string helper function <code>concat</code> (and in theory, could later include additional function definitions). It should not have a <em>main()</em> function.</p></li><li><p><strong>string_functions.h</strong> - should contain a prototype (i.e. declaration) for each function defined in <strong>string_functions.c</strong> (today, there is only one), and should be #include-d in both of the .c files. Make sure to include a header guard for this file to prevent being included multiple times. </p></li></ol><p>Compile and link the program manually, step by step.</p><ol><li><p>Recall that to compile a source file only (and not link or generate an executable), you will use the regular <code>gcc</code> command with our usual flags and the <code>-c</code> flag with the <code>.c</code> source file as an argument.  This command will create an object file.</p></li><li><p>Once you have created your two object files, you can link them to create an executable named <strong>run_concat</strong> by using the <code>gcc command</code> with both <code>.o</code> files as arguments (but here, you do not need the usual flags we use for compiling).  To express in the command that you want the executable file named <strong>run_concat</strong>, you will need to use the <code>-o</code> flag with <strong>run_concat</strong> as an argument.</p></li><li><p>If your program does not compile or link properly, check that you have added the necessary <code>#include</code> statements in each <code>.c</code> file.</p></li><li><p>Do not move onto the next step until you can successfully build and run the <strong>run_concat</strong> executable file.</p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="part-5"></a>Part 5<a aria-hidden="true" tabindex="-1" class="hash-link" href="#part-5" title="Direct link to heading">#</a></h3><p>Create a Makefile for this program so you can build it quickly and easily.</p><ol><li><p>Now it is time to edit the sample <strong>Makefile</strong> file you copied over from the public repository back in Part 3.</p></li><li><p>Modify <strong>Makefile</strong> so that it builds the <em>run_concat</em> program and creates an executable called <strong>run_concat</strong> (rather than main).</p></li><li><p>Try out the following command-line commands and try to reason out what is happening at each step by reading the messages it prints: <code>make</code>, <code>make clean</code>, <code>make string_functions.o</code>, <code>make run_concat.o</code>.  Look around in the folder using <code>ls -l</code> after each command to see what changed.  Execute them in different orders (and after modifying some source file slightly) and see how the behavior changes.</p></li><li><p>Finally, check that your <strong>Makefile</strong> captures the required dependencies properly:</p><ul><li>Edit the <strong>string_functions.c</strong> file so that the <code>concat</code> function behaves noticeably differently, e.g., outputs a message on the screen. (It does not matter what it says.)  Save it, but do not re-compile it.</li><li>At the command line, type <code>make</code>. Then execute your program and confirm that the output you see is due to the new behavior of the function.</li></ul></li></ol></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#part-1" class="table-of-contents__link">Part 1</a></li><li><a href="#part-2" class="table-of-contents__link">Part 2</a></li><li><a href="#part-3" class="table-of-contents__link">Part 3</a></li><li><a href="#part-4" class="table-of-contents__link">Part 4</a></li><li><a href="#part-5" class="table-of-contents__link">Part 5</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright ¬© 2021 CS220, Johns Hopkins University, Built with Docusaurus.</div></div></div></footer></div>
<script src="/cs220-sp21/styles.6b71565d.js"></script>
<script src="/cs220-sp21/runtime~main.59831a9a.js"></script>
<script src="/cs220-sp21/main.09b3fccb.js"></script>
<script src="/cs220-sp21/1.27d8e547.js"></script>
<script src="/cs220-sp21/2.ff7379a2.js"></script>
<script src="/cs220-sp21/37.4e654797.js"></script>
<script src="/cs220-sp21/38.d3f59e96.js"></script>
<script src="/cs220-sp21/f976f453.e5588a44.js"></script>
<script src="/cs220-sp21/17896441.e028893f.js"></script>
<script src="/cs220-sp21/2dfccacb.c49777b3.js"></script>
</body>
</html>